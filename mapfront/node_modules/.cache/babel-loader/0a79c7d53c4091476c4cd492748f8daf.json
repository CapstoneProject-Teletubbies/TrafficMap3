{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\201810938\\\\Desktop\\\\lastMap\\\\TrafficMap\\\\mapfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\201810938\\\\Desktop\\\\lastMap\\\\TrafficMap\\\\mapfront\\\\src\\\\components\\\\BusStopInfo.js\";\n\n// `import \"../css/BuildingInfo.css\";`\nimport React from 'react';\nimport axios from \"axios\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { useState, useEffect } from 'react';\nvar baseurl = 'http://localhost:9000/';\n\nvar BusStopInfo = function BusStopInfo(props) {\n  var navigate = useNavigate();\n  var location = useLocation();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      selectBusStop = _useState2[0],\n      SetSelectBusStop = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      preUrl = _useState4[0],\n      setPreUrl = _useState4[1];\n\n  var searchbusstopinfo = function searchbusstopinfo() {\n    var busstopinfo = axios.create({\n      baseURL: baseurl\n    });\n    busstopinfo.post('/api/bus/busArrival', null, {\n      params: {\n        busStopId: props.obj.bstopid\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      navigate(\"/location-map\", {\n        state: {\n          props: props,\n          subway: null,\n          busstop: res.data\n        }\n      });\n      window.location.href = \"/location-map\";\n    }).catch(function (err) {\n      console.log(\"버스정류장 실시간 도착정보 못받아옴\");\n    });\n  };\n\n  var handleClick = function handleClick(evt) {\n    var start = null,\n        end = null;\n    console.log(\"props\");\n    console.log(props);\n\n    if (preUrl) {\n      if (evt.target.className !== 'bi bi-map') {\n        if (props.id == 'start' && props.endBuilding) {\n          console.log(\"이건 진짜 다입력한거임 \");\n          start = props;\n          end = props.endBuilding;\n        } else if (props.id == 'end' && props.startBuilding) {\n          console.log(\"이것도 다 입력한거임\");\n          start = props.startBuilding;\n          end = props;\n        } else if (props.id == 'start') {\n          start = props;\n        } else if (props.id == 'end') {\n          end = props;\n        }\n\n        navigate('/find-way', {\n          state: {\n            props: props,\n            mylocation: props.mylocation,\n            id: props.id,\n            startBuilding: start,\n            endBuilding: end\n          }\n        });\n      }\n    } else {\n      searchbusstopinfo();\n    }\n  };\n\n  var handleButtonClick = function handleButtonClick() {\n    var start = null,\n        end = null;\n\n    if (props.startBuilding) {\n      start = props.startBuilding;\n      end = null;\n    } else if (props.endBuilding) {\n      start = null;\n      end = props.endBuilding;\n    }\n\n    console.log(\"지도 아이콘 클릭\");\n    navigate('/location-map', {\n      state: {\n        props: props,\n        mylocation: props.mylocation,\n        id: props.id,\n        startBuilding: start,\n        endBuilding: end\n      }\n    });\n    window.location.href = \"/location-map\";\n  };\n\n  useEffect(function () {\n    console.log(props);\n\n    if (location.pathname == '/find-search') {\n      setPreUrl(true);\n    } else if (location.pathname == '/search') {\n      setPreUrl(false);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"li\", {\n    className: \"list-group-item\",\n    onClick: handleClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-10\",\n    style: {\n      textAlign: \"left\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"fw-bold\",\n    style: {\n      textAlign: \"left\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 21\n    }\n  }, props.name), props.address), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }, preUrl && /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-outline-secondary btn-circle\",\n    onClick: handleButtonClick,\n    style: {\n      borderRadius: \"50%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 32\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"bi bi-map\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  })))));\n};\n\nexport default BusStopInfo;","map":{"version":3,"names":["React","axios","useNavigate","useLocation","useState","useEffect","baseurl","BusStopInfo","props","navigate","location","selectBusStop","SetSelectBusStop","preUrl","setPreUrl","searchbusstopinfo","busstopinfo","create","baseURL","post","params","busStopId","obj","bstopid","then","res","console","log","data","state","subway","busstop","window","href","catch","err","handleClick","evt","start","end","target","className","id","endBuilding","startBuilding","mylocation","handleButtonClick","pathname","textAlign","name","address","borderRadius"],"sources":["C:/Users/201810938/Desktop/lastMap/TrafficMap/mapfront/src/components/BusStopInfo.js"],"sourcesContent":["// `import \"../css/BuildingInfo.css\";`\r\nimport React from 'react';\r\nimport axios from \"axios\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst baseurl = 'http://localhost:9000/'\r\n\r\n\r\nconst BusStopInfo = (props) => {\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const [selectBusStop, SetSelectBusStop] = useState();\r\n    const [preUrl, setPreUrl] = useState();\r\n\r\n    const searchbusstopinfo = () => {\r\n        const busstopinfo = axios.create({\r\n            baseURL: baseurl\r\n        })\r\n        busstopinfo.post('/api/bus/busArrival', null, {params: {busStopId: props.obj.bstopid}})\r\n        .then(function(res){\r\n            console.log(res.data);\r\n\r\n            navigate(\"/location-map\", {\r\n                state: {\r\n                    props: props,\r\n                    subway: null,\r\n                    busstop: res.data,\r\n                }\r\n            });\r\n            window.location.href = \"/location-map\";\r\n        }).catch(function(err){\r\n            console.log(\"버스정류장 실시간 도착정보 못받아옴\");\r\n        })\r\n    };\r\n\r\n    const handleClick = (evt) => {\r\n        var start = null, end = null;\r\n        console.log(\"props\");\r\n        console.log(props);\r\n        if(preUrl){\r\n            if(evt.target.className !== 'bi bi-map'){\r\n                if(props.id == 'start' && props.endBuilding){\r\n                    console.log(\"이건 진짜 다입력한거임 \");\r\n                    start = props;\r\n                    end = props.endBuilding;\r\n                }else if(props.id == 'end' && props.startBuilding){\r\n                    console.log(\"이것도 다 입력한거임\");\r\n                    start = props.startBuilding;\r\n                    end = props;\r\n                }else if(props.id == 'start'){\r\n                    start = props;\r\n                }else if(props.id == 'end'){\r\n                    end = props;\r\n                }\r\n                navigate('/find-way', {\r\n                    state: {\r\n                        props: props,\r\n                        mylocation: props.mylocation,\r\n                        id: props.id,\r\n                        startBuilding: start,\r\n                        endBuilding: end,\r\n                    }\r\n                });\r\n            }\r\n        }else{\r\n            searchbusstopinfo();\r\n        }\r\n    };\r\n\r\n    const handleButtonClick = () => {\r\n        var start = null, end = null;\r\n        if(props.startBuilding){\r\n            start = props.startBuilding;\r\n            end = null;\r\n        }else if(props.endBuilding){\r\n            start = null;\r\n            end = props.endBuilding;\r\n        }\r\n        console.log(\"지도 아이콘 클릭\");\r\n        navigate('/location-map', {\r\n            state: {\r\n                props: props,\r\n                mylocation: props.mylocation,\r\n                id: props.id,\r\n                startBuilding: start,\r\n                endBuilding: end,\r\n            }\r\n        })\r\n        window.location.href = \"/location-map\";\r\n    }\r\n\r\n    useEffect(()=>{\r\n        console.log(props);\r\n        if(location.pathname == '/find-search'){\r\n            setPreUrl(true);\r\n        }else if(location.pathname == '/search'){\r\n            setPreUrl(false);\r\n        }\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <li className=\"list-group-item\" onClick={handleClick}>\r\n            <div className=\"row\">\r\n                <div className=\"col-10\" style={{ textAlign: \"left\" }}>\r\n                    <div className=\"fw-bold\" style={{ textAlign: \"left\" }}>\r\n                        {props.name}\r\n                    </div>\r\n                    {props.address}\r\n                </div>\r\n                <div className=\"col-2\">\r\n                    {preUrl && <button type=\"button\" class=\"btn btn-outline-secondary btn-circle\" onClick={handleButtonClick} style={{borderRadius: \"50%\", }}>\r\n                        <i class=\"bi bi-map\"></i></button>  \r\n                    }\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default BusStopInfo;\r\n"],"mappings":";;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,kBAAzC;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,IAAMC,OAAO,GAAG,wBAAhB;;AAGA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAW;EAC3B,IAAMC,QAAQ,GAAGP,WAAW,EAA5B;EACA,IAAMQ,QAAQ,GAAGP,WAAW,EAA5B;;EAF2B,gBAGeC,QAAQ,EAHvB;EAAA;EAAA,IAGpBO,aAHoB;EAAA,IAGLC,gBAHK;;EAAA,iBAICR,QAAQ,EAJT;EAAA;EAAA,IAIpBS,MAJoB;EAAA,IAIZC,SAJY;;EAM3B,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;IAC5B,IAAMC,WAAW,GAAGf,KAAK,CAACgB,MAAN,CAAa;MAC7BC,OAAO,EAAEZ;IADoB,CAAb,CAApB;IAGAU,WAAW,CAACG,IAAZ,CAAiB,qBAAjB,EAAwC,IAAxC,EAA8C;MAACC,MAAM,EAAE;QAACC,SAAS,EAAEb,KAAK,CAACc,GAAN,CAAUC;MAAtB;IAAT,CAA9C,EACCC,IADD,CACM,UAASC,GAAT,EAAa;MACfC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;MAEAnB,QAAQ,CAAC,eAAD,EAAkB;QACtBoB,KAAK,EAAE;UACHrB,KAAK,EAAEA,KADJ;UAEHsB,MAAM,EAAE,IAFL;UAGHC,OAAO,EAAEN,GAAG,CAACG;QAHV;MADe,CAAlB,CAAR;MAOAI,MAAM,CAACtB,QAAP,CAAgBuB,IAAhB,GAAuB,eAAvB;IACH,CAZD,EAYGC,KAZH,CAYS,UAASC,GAAT,EAAa;MAClBT,OAAO,CAACC,GAAR,CAAY,qBAAZ;IACH,CAdD;EAeH,CAnBD;;EAqBA,IAAMS,WAAW,GAAG,SAAdA,WAAc,CAACC,GAAD,EAAS;IACzB,IAAIC,KAAK,GAAG,IAAZ;IAAA,IAAkBC,GAAG,GAAG,IAAxB;IACAb,OAAO,CAACC,GAAR,CAAY,OAAZ;IACAD,OAAO,CAACC,GAAR,CAAYnB,KAAZ;;IACA,IAAGK,MAAH,EAAU;MACN,IAAGwB,GAAG,CAACG,MAAJ,CAAWC,SAAX,KAAyB,WAA5B,EAAwC;QACpC,IAAGjC,KAAK,CAACkC,EAAN,IAAY,OAAZ,IAAuBlC,KAAK,CAACmC,WAAhC,EAA4C;UACxCjB,OAAO,CAACC,GAAR,CAAY,eAAZ;UACAW,KAAK,GAAG9B,KAAR;UACA+B,GAAG,GAAG/B,KAAK,CAACmC,WAAZ;QACH,CAJD,MAIM,IAAGnC,KAAK,CAACkC,EAAN,IAAY,KAAZ,IAAqBlC,KAAK,CAACoC,aAA9B,EAA4C;UAC9ClB,OAAO,CAACC,GAAR,CAAY,aAAZ;UACAW,KAAK,GAAG9B,KAAK,CAACoC,aAAd;UACAL,GAAG,GAAG/B,KAAN;QACH,CAJK,MAIA,IAAGA,KAAK,CAACkC,EAAN,IAAY,OAAf,EAAuB;UACzBJ,KAAK,GAAG9B,KAAR;QACH,CAFK,MAEA,IAAGA,KAAK,CAACkC,EAAN,IAAY,KAAf,EAAqB;UACvBH,GAAG,GAAG/B,KAAN;QACH;;QACDC,QAAQ,CAAC,WAAD,EAAc;UAClBoB,KAAK,EAAE;YACHrB,KAAK,EAAEA,KADJ;YAEHqC,UAAU,EAAErC,KAAK,CAACqC,UAFf;YAGHH,EAAE,EAAElC,KAAK,CAACkC,EAHP;YAIHE,aAAa,EAAEN,KAJZ;YAKHK,WAAW,EAAEJ;UALV;QADW,CAAd,CAAR;MASH;IACJ,CAzBD,MAyBK;MACDxB,iBAAiB;IACpB;EACJ,CAhCD;;EAkCA,IAAM+B,iBAAiB,GAAG,SAApBA,iBAAoB,GAAM;IAC5B,IAAIR,KAAK,GAAG,IAAZ;IAAA,IAAkBC,GAAG,GAAG,IAAxB;;IACA,IAAG/B,KAAK,CAACoC,aAAT,EAAuB;MACnBN,KAAK,GAAG9B,KAAK,CAACoC,aAAd;MACAL,GAAG,GAAG,IAAN;IACH,CAHD,MAGM,IAAG/B,KAAK,CAACmC,WAAT,EAAqB;MACvBL,KAAK,GAAG,IAAR;MACAC,GAAG,GAAG/B,KAAK,CAACmC,WAAZ;IACH;;IACDjB,OAAO,CAACC,GAAR,CAAY,WAAZ;IACAlB,QAAQ,CAAC,eAAD,EAAkB;MACtBoB,KAAK,EAAE;QACHrB,KAAK,EAAEA,KADJ;QAEHqC,UAAU,EAAErC,KAAK,CAACqC,UAFf;QAGHH,EAAE,EAAElC,KAAK,CAACkC,EAHP;QAIHE,aAAa,EAAEN,KAJZ;QAKHK,WAAW,EAAEJ;MALV;IADe,CAAlB,CAAR;IASAP,MAAM,CAACtB,QAAP,CAAgBuB,IAAhB,GAAuB,eAAvB;EACH,CApBD;;EAsBA5B,SAAS,CAAC,YAAI;IACVqB,OAAO,CAACC,GAAR,CAAYnB,KAAZ;;IACA,IAAGE,QAAQ,CAACqC,QAAT,IAAqB,cAAxB,EAAuC;MACnCjC,SAAS,CAAC,IAAD,CAAT;IACH,CAFD,MAEM,IAAGJ,QAAQ,CAACqC,QAAT,IAAqB,SAAxB,EAAkC;MACpCjC,SAAS,CAAC,KAAD,CAAT;IACH;EACJ,CAPQ,EAON,EAPM,CAAT;EAUA,oBACI;IAAI,SAAS,EAAC,iBAAd;IAAgC,OAAO,EAAEsB,WAAzC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAK,SAAS,EAAC,KAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAK,SAAS,EAAC,QAAf;IAAwB,KAAK,EAAE;MAAEY,SAAS,EAAE;IAAb,CAA/B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAK,SAAS,EAAC,SAAf;IAAyB,KAAK,EAAE;MAAEA,SAAS,EAAE;IAAb,CAAhC;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACKxC,KAAK,CAACyC,IADX,CADJ,EAIKzC,KAAK,CAAC0C,OAJX,CADJ,eAOI;IAAK,SAAS,EAAC,OAAf;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GACKrC,MAAM,iBAAI;IAAQ,IAAI,EAAC,QAAb;IAAsB,KAAK,EAAC,sCAA5B;IAAmE,OAAO,EAAEiC,iBAA5E;IAA+F,KAAK,EAAE;MAACK,YAAY,EAAE;IAAf,CAAtG;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACP;IAAG,KAAK,EAAC,WAAT;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADO,CADf,CAPJ,CADJ,CADJ;AAiBH,CA9GD;;AAgHA,eAAe5C,WAAf"},"metadata":{},"sourceType":"module"}