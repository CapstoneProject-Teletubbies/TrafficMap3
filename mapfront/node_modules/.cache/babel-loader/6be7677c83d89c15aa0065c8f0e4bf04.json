{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\201810938\\\\Desktop\\\\lastMap\\\\TrafficMap\\\\mapfront\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\201810938\\\\Desktop\\\\lastMap\\\\TrafficMap\\\\mapfront\\\\src\\\\pages\\\\Search.js\";\nimport React, { useState, useEffect } from 'react';\nimport '../css/search.css';\nimport '../css/input.css';\nimport ReactDOM from \"react-dom\";\nimport SearchBar from \"../components/SearchBar\";\nimport BuildingInfo from '../components/BuildingInfo';\nimport BusInfo from '../components/BusInfo';\nimport BusStopInfo from '../components/BusStopInfo';\nimport { useLocation } from 'react-router';\nimport { useNavigate } from \"react-router-dom\";\nimport Button from \"../components/Button\";\nimport map from \"../images/map.png\";\nimport back from \"../images/backicon.png\";\nimport axios from \"axios\";\n\nfunction Search() {\n  var _this = this;\n\n  var _useState = useState(' '),\n      _useState2 = _slicedToArray(_useState, 2),\n      text = _useState2[0],\n      setText = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      buildingList = _useState4[0],\n      setBuildingList = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      busList = _useState6[0],\n      setBusList = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      busStopList = _useState8[0],\n      setBusStopList = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      mylocation = _useState10[0],\n      setMylocation = _useState10[1];\n\n  var navigate = useNavigate();\n  var location = useLocation();\n  var keyword = location.state.keyword;\n\n  var onChange = function onChange(e) {\n    setText(e.target.value);\n  };\n\n  useEffect(function () {\n    setBusList(location.state.bus);\n    setBuildingList(location.state.building);\n    setBusStopList(location.state.busstop);\n    setMylocation(location.state.mylocation);\n  });\n\n  var handlebackButton = function handlebackButton() {\n    //뒤로가기 버튼 클릭\n    window.location.href = \"/\";\n  };\n\n  var handlemapButton = function handlemapButton() {\n    //지도 버튼 클릭\n    navigate('/resultsearch', {\n      state: {\n        building: buildingList,\n        keyword: keyword\n      }\n    });\n    window.location.href = \"/resultsearch\";\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchjs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      justifyContent: \"center\",\n      display: \"flex\",\n      padding: \"10px 0px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    class: \"navbar navbar-default\",\n    style: {\n      width: \"95%\",\n      display: \"flex\",\n      padding: \"0px 10px\",\n      border: \"1px solid\",\n      borderRadius: \"20px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"bi bi-arrow-left-circle\",\n    style: {\n      fontSize: \"2rem\"\n    },\n    onClick: handlebackButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    style: {\n      flex: 1,\n      textAlign: \"left\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(SearchBar, {\n    keyword: keyword,\n    onChange: onChange,\n    placeholder: keyword,\n    location: mylocation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, buildingList && /*#__PURE__*/React.createElement(\"i\", {\n    class: \"bi bi-pin-map-fill\",\n    style: {\n      fontSize: \"2rem\"\n    },\n    onClick: handlemapButton,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }), \" \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchlist\",\n    style: {\n      overflowY: \"scroll\",\n      paddingBottom: \"15px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ol\", {\n    className: \"list-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, busList && busList.map(function (obj, index) {\n    return /*#__PURE__*/React.createElement(BusInfo, {\n      obj: obj,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 61\n      }\n    });\n  }), busStopList && busStopList.map(function (obj, index) {\n    return /*#__PURE__*/React.createElement(BusStopInfo, {\n      obj: obj,\n      name: obj.bstopnm,\n      address: \"\\uBC84\\uC2A4\\uC815\\uB958\\uC7A5\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 67\n      }\n    });\n  }), buildingList && buildingList.map(function (obj, index) {\n    if (obj.upperBizName === \"교통편의\") {\n      if (!obj.name.includes(\"출구\") && !obj.name.includes(\"방향\") && !obj.name.includes(\"방면\") && !obj.name.includes(\"버스정류장\")) {\n        return /*#__PURE__*/React.createElement(BuildingInfo, {\n          obj: obj,\n          name: obj.name,\n          address: obj.fullAddressRoad,\n          mylocation: mylocation,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 44\n          }\n        });\n      }\n    } else {\n      return /*#__PURE__*/React.createElement(BuildingInfo, {\n        obj: obj,\n        name: obj.name,\n        address: obj.fullAddressRoad,\n        mylocation: mylocation,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 37\n        }\n      });\n    }\n  }))));\n}\n\nexport default Search;","map":{"version":3,"names":["React","useState","useEffect","ReactDOM","SearchBar","BuildingInfo","BusInfo","BusStopInfo","useLocation","useNavigate","Button","map","back","axios","Search","text","setText","buildingList","setBuildingList","busList","setBusList","busStopList","setBusStopList","mylocation","setMylocation","navigate","location","keyword","state","onChange","e","target","value","bus","building","busstop","handlebackButton","window","href","handlemapButton","justifyContent","display","padding","width","border","borderRadius","fontSize","flex","textAlign","overflowY","paddingBottom","obj","index","bstopnm","upperBizName","name","includes","fullAddressRoad"],"sources":["C:/Users/201810938/Desktop/lastMap/TrafficMap/mapfront/src/pages/Search.js"],"sourcesContent":["import React, {useState, useEffect } from 'react';\r\nimport '../css/search.css';\r\nimport '../css/input.css'\r\nimport ReactDOM from \"react-dom\";\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport BuildingInfo from '../components/BuildingInfo';\r\nimport BusInfo from '../components/BusInfo';\r\nimport BusStopInfo from '../components/BusStopInfo';\r\nimport {useLocation} from 'react-router';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Button from \"../components/Button\";\r\nimport map from \"../images/map.png\";\r\nimport back from \"../images/backicon.png\"\r\nimport axios from \"axios\";\r\n\r\n function Search() {\r\n    const [text, setText] = useState(' ');\r\n    const [buildingList, setBuildingList] = useState([]);\r\n    const [busList, setBusList] = useState([]);\r\n    const [busStopList, setBusStopList] = useState([]);\r\n    const [mylocation, setMylocation] = useState();\r\n    const navigate = useNavigate();\r\n    const location = useLocation();\r\n    const keyword = location.state.keyword;\r\n    const onChange = (e) => {\r\n        setText(e.target.value);\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setBusList(location.state.bus);\r\n        setBuildingList(location.state.building);\r\n        setBusStopList(location.state.busstop);\r\n        \r\n        setMylocation(location.state.mylocation);\r\n    })\r\n\r\n    const handlebackButton = () => {            //뒤로가기 버튼 클릭\r\n        window.location.href = \"/\";\r\n    }\r\n    const handlemapButton = () => {             //지도 버튼 클릭\r\n        navigate('/resultsearch', { state: {\r\n            building: buildingList,\r\n            keyword: keyword,\r\n        }});\r\n        window.location.href = \"/resultsearch\";  \r\n    }\r\n\r\n    return (\r\n        <div className=\"searchjs\">\r\n            <div\r\n                style={{\r\n                    justifyContent: \"center\",\r\n                    display: \"flex\",\r\n                    padding: \"10px 0px\",\r\n                }}>\r\n                <nav\r\n                    class=\"navbar navbar-default\"\r\n                    style={{\r\n                        width: \"95%\",\r\n                        display: \"flex\",\r\n                        padding: \"0px 10px\",\r\n                        border: \"1px solid\",\r\n                        borderRadius: \"20px\",\r\n                    }}\r\n                >\r\n                    <i\r\n                        class=\"bi bi-arrow-left-circle\"\r\n                        style={{ fontSize: \"2rem\" }}\r\n                        onClick={handlebackButton}\r\n                    ></i>\r\n\r\n                    <div className=\"\" style={{ flex: 1, textAlign: \"left\" }}>\r\n                        <SearchBar keyword={keyword} onChange={onChange} placeholder={keyword} location={mylocation} />\r\n                    </div>\r\n\r\n                    <div className=\"\">\r\n                        {buildingList && (\r\n                            <i\r\n                                class=\"bi bi-pin-map-fill\"\r\n                                style={{ fontSize: \"2rem\" }}\r\n                                onClick={handlemapButton}\r\n                            ></i>\r\n                        )}{\" \"}\r\n                        {/*버스만 받아올때는 안뜸 */}\r\n                    </div>\r\n                </nav>\r\n            </div>\r\n\r\n            <div className=\"searchlist\" style={{ overflowY: \"scroll\", paddingBottom: \"15px\"}}>\r\n                {}\r\n                <ol className=\"list-group\">\r\n                    {busList && busList.map((obj, index) => <BusInfo obj={obj}></BusInfo>)}\r\n                    {busStopList && busStopList.map((obj, index)=><BusStopInfo obj={obj} name={obj.bstopnm} address='버스정류장' />)}\r\n                    {buildingList &&\r\n                        buildingList.map((obj, index) => {\r\n                            if(obj.upperBizName === \"교통편의\"){\r\n                                if(!(obj.name).includes(\"출구\") && !(obj.name).includes(\"방향\") && !(obj.name).includes(\"방면\")\r\n                                    && !(obj.name).includes(\"버스정류장\")){\r\n                                    return(<BuildingInfo\r\n                                        obj={obj}\r\n                                        name={obj.name}\r\n                                        address={obj.fullAddressRoad}\r\n                                        mylocation={mylocation}\r\n                                    ></BuildingInfo>);\r\n                                }\r\n                            }\r\n                            else{\r\n                                return(\r\n                                    <BuildingInfo\r\n                                        obj={obj}\r\n                                        name={obj.name}\r\n                                        address={obj.fullAddressRoad}\r\n                                        mylocation={mylocation}\r\n                                    ></BuildingInfo>\r\n                                    );\r\n                            }\r\n                            \r\n                    })}\r\n                </ol>\r\n            </div>\r\n        </div>\r\n    );\r\n }\r\n export default Search;"],"mappings":"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"},"metadata":{},"sourceType":"module"}